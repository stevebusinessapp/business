<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Waybill List</title>
  <style>
    body { font-family: Arial, sans-serif; font-size: 12px; margin: 20px; }
    h2 { margin-bottom: 18px; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
    th, td {
      border: 1px solid #bbb;
      padding: 6px 8px;
      font-size: 11px;
      text-align: left;
      vertical-align: middle;
      word-break: break-all;
      white-space: pre-line;
      max-width: 180px;
    }
    th { background: #f8f9fa; font-weight: bold; }
    tr:nth-child(even) { background: #f4f6fa; }
    .center { text-align: center; }
    .nowrap { white-space: nowrap; }
  </style>
</head>
<body>
  {% if company_profile %}
  <table width="100%" style="margin-bottom: 20px;">
    <tr>
      <td style="width:100px; vertical-align:top;">
        {% if company_logo_base64 %}<img src="{{ company_logo_base64 }}" width="90" style="max-height:60px;"/>{% endif %}
      </td>
      <td style="vertical-align:top;">
        <strong>{{ company_profile.company_name }}</strong><br/>
        {% if company_profile.phone %}Phone: {{ company_profile.phone }}<br/>{% endif %}
        {% if company_profile.email %}Email: {{ company_profile.email }}<br/>{% endif %}
        {% if company_profile.address %}{{ company_profile.address|linebreaksbr }}{% endif %}
      </td>
    </tr>
  </table>
  {% endif %}
  <h2>Waybill List</h2>
  <table border="1" cellspacing="0" cellpadding="4">
    <tr>
      <th>S/N</th>
      <th>Waybill #</th>
      <th>Receiver's Name</th>
      <th>Sender's Name</th>
      <th>Date</th>
      <th>Status</th>
    </tr>
    {% for waybill in waybills %}
    <tr>
      <td>{{ forloop.counter }}</td>
      <td>{{ waybill.waybill_number }}</td>
      <td>{% if waybill.custom_data.receiver_info.receiver_name %}{{ waybill.custom_data.receiver_info.receiver_name }}{% else %}-{% endif %}</td>
      <td>{% if waybill.custom_data.sender_info.sender_name %}{{ waybill.custom_data.sender_info.sender_name }}{% else %}-{% endif %}</td>
      <td>{{ waybill.waybill_date|date:'Y-m-d' }}</td>
      <td>{{ waybill.get_status_display }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="6">No waybills found.</td></tr>
    {% endfor %}
  </table>
</body>
</html> 